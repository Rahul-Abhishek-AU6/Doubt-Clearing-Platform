(this.webpackJsonpwoof=this.webpackJsonpwoof||[]).push([[0],{28:function(e,t,s){},29:function(e,t,s){},40:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(22),r=s.n(n),l=(s(28),s(5)),i=s(6),o=(s(29),s(3)),d=s.n(o),j=s(4),b=s(12),u=s(11),p=s(2),x=s(0),h=function(){var e=Object(c.useState)({name:"",email:"",password:""}),t=Object(p.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(p.a)(n,2),l=r[0],o=r[1],h=Object(c.useState)({type:"",message:""}),O=Object(p.a)(h,2),m=O[0],f=O[1],g=Object(c.useRef)(),v=Object(c.useRef)(),y=function(e){var t=e.target,c=t.id,n=t.value;a(Object(u.a)(Object(u.a)({},s),{},Object(b.a)({},c,n)))},w=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==s.email){e.next=5;break}return g.current.focus(),f({type:"danger",message:"Please provide your Email!"}),e.abrupt("return");case 5:if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(s.email)){e.next=9;break}return g.current.focus(),f({type:"danger",message:"Please provide a valid Email!"}),e.abrupt("return");case 9:if(""!==s.password){e.next=13;break}return v.current.focus(),f({type:"danger",message:"Please provide a password!"}),e.abrupt("return");case 13:if(!(s.password.length<8)){e.next=17;break}return v.current.focus(),f({type:"danger",message:"Please provide a longer password (8 characters min)!"}),e.abrupt("return");case 17:return localStorage.clear(),e.next=20,fetch("/api/user/registration",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()}));case 20:e.sent.message?(f({type:"success",message:"Thank you successfully registered!"}),setTimeout((function(){o(!0)}),1e3)):f({type:"danger",message:"Try again"}),a({name:"",email:"",password:""});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{color:"black"},children:[l?Object(x.jsx)(i.a,{to:"/login"}):"",Object(x.jsx)("section",{class:" text-center",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsx)("h1",{children:"User Registration"}),Object(x.jsx)("p",{class:"lead text-muted",children:"Register and enjoy your stay at forum!"})]})}),Object(x.jsx)("div",{className:m.type?"alert alert-".concat(m.type):"d-hide",role:"alert",children:m.message}),Object(x.jsx)("div",{class:"container",children:Object(x.jsxs)("div",{class:"card",children:[Object(x.jsx)("div",{class:"card-header",children:"Register"}),Object(x.jsx)("div",{class:"card-body",children:Object(x.jsxs)("form",{role:"form",children:[Object(x.jsx)("input",{type:"hidden",id:"db_id",value:""}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"name",children:"First Name"}),Object(x.jsx)("input",{value:s.name,onChange:y,id:"name",type:"text",class:"form-control"})]}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"email",children:"Email Address"}),Object(x.jsx)("input",{value:s.email,onChange:y,ref:g,id:"email",type:"email",class:"form-control"})]}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"userPassword",children:"Password"}),Object(x.jsx)("input",{value:s.password,onChange:y,ref:v,id:"password",type:"password",class:"form-control"})]}),Object(x.jsx)("button",{onClick:w,class:"btn btn-primary submit",children:"Register"})]})})]})})]})},O=function(){Object(i.f)();var e=Object(c.useState)([]),t=Object(p.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(""),r=Object(p.a)(n,2),o=r[0],b=r[1],u=Object(c.useState)(""),h=Object(p.a)(u,2),O=h[0],m=h[1],f=Object(c.useState)(""),g=Object(p.a)(f,2),v=g[0],y=g[1],w=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/walkdata").then((function(e){return e.json()}));case 2:t=e.sent,console.log("apigetwalk is",t),0==t.length?(m(""),y("")):(t.forEach((function(e){e.createdAt=new Date(e.createdAt).toString().substring(4,15),e.updatedAt=new Date(e.updatedAt).toString().substring(4,15)})),s=0,t.forEach((function(e){s+=e.userReply.length})),a(t),b(s),m(t[0].user.name),y(t[0].updatedAt));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w()}),[]),Object(x.jsx)("div",{class:"container-fluid",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-12 mx-auto",style:{height:"50px",backgroundColor:"#9f6934",padding:"0",margin:"0"},children:Object(x.jsx)("h2",{style:{paddingTop:"10px",paddingLeft:"15px",color:"white"},children:"Forum"})}),Object(x.jsxs)("div",{class:"col-lg-12 mx-auto",children:[Object(x.jsx)("h2",{class:"my-4",children:"Welcome To The Doubt Clearing Forum!"}),Object(x.jsx)("p",{children:"You're landed on the doubt clearing forum."})]}),Object(x.jsxs)("div",{class:"row ml-2 mt-4",children:[Object(x.jsx)("div",{class:"col-lg-10 mx-auto mt-4",children:Object(x.jsxs)("div",{class:"row py-2",style:{backgroundColor:"#90ee90",border:"1px solid #4ee44e"},children:[Object(x.jsx)("div",{class:"col-lg-8 my-2",children:Object(x.jsxs)("div",{class:"row my-auto",children:[Object(x.jsx)("div",{class:"col-lg-2 mt-4",children:Object(x.jsxs)("div",{class:"mt-4",style:{width:"80px",margin:"0 auto"},children:[Object(x.jsx)("i",{class:"fas fa-envelope-open-text fa-5x"})," "]})}),Object(x.jsxs)("div",{class:"col-lg-10 mt-2",children:[Object(x.jsx)(l.b,{to:"/the-walks",className:"nav-link",children:Object(x.jsx)("h3",{children:"Post by Rahul Abhishek"})}),Object(x.jsx)("p",{class:"ml-3",children:"Here you can write/find the already asked questions."}),Object(x.jsxs)("p",{class:"ml-3",children:[Object(x.jsx)("b",{children:"Discussions"}),Object(x.jsx)("span",{class:"px-2",children:s.length}),Object(x.jsx)("b",{children:"Messages"}),Object(x.jsx)("span",{class:"px-2",children:o})]})]})]})}),Object(x.jsx)("div",{class:"col-lg-4 my-2",style:{borderLeft:"2px solid #9f6934"},children:Object(x.jsx)("div",{class:"row my-auto",children:Object(x.jsx)("div",{class:"col-lg-12 ml-3 mt-4",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Latest by:"}),Object(x.jsx)("span",{class:"px-2",children:O}),Object(x.jsx)("b",{}),Object(x.jsx)("span",{class:"px-2",children:v})]})})})})]})}),Object(x.jsx)("div",{class:"col-lg-10 mx-auto",children:Object(x.jsxs)("div",{class:"row py-2",style:{backgroundColor:"#90ee90",border:"1px solid #4ee44e"},children:[Object(x.jsx)("div",{class:"col-lg-8 my-2",children:Object(x.jsxs)("div",{class:"row my-auto",children:[Object(x.jsx)("div",{class:"col-lg-2",children:Object(x.jsxs)("div",{class:"mt-4",style:{width:"80px",margin:"0 auto"},children:[Object(x.jsx)("i",{class:"fas fa-envelope-open-text fa-5x"})," "]})}),Object(x.jsxs)("div",{class:"col-lg-10  mt-2",children:[Object(x.jsx)(l.b,{to:"/the-walks",className:"nav-link",children:Object(x.jsx)("h3",{children:"2nd Post by Rahul Abhishek"})}),Object(x.jsx)("p",{class:"ml-3",children:"For posting aby questions, you need to register first. "}),Object(x.jsxs)("p",{class:"ml-3",children:[Object(x.jsx)("b",{children:"Discussions"}),Object(x.jsx)("span",{class:"px-2",children:"10"}),Object(x.jsx)("b",{children:"Messages"}),Object(x.jsx)("span",{class:"px-2",children:"10"})]})]})]})}),Object(x.jsx)("div",{class:"col-lg-4 my-2",style:{borderLeft:"2px solid #9f6934"},children:Object(x.jsx)("div",{class:"row my-auto",children:Object(x.jsx)("div",{class:"col-lg-12  ml-3 mt-4",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Latest by:"}),Object(x.jsx)("span",{class:"px-2",children:O}),Object(x.jsx)("b",{}),Object(x.jsx)("span",{class:"px-2",children:v})]})})})})]})}),Object(x.jsx)("div",{class:"col-lg-10 mx-auto",children:Object(x.jsxs)("div",{class:"row py-2",style:{backgroundColor:"#90ee90",border:"1px solid #4ee44e"},children:[Object(x.jsx)("div",{class:"col-lg-8 my-2",children:Object(x.jsxs)("div",{class:"row my-auto",children:[Object(x.jsx)("div",{class:"col-lg-2",children:Object(x.jsx)("div",{class:"mt-4",style:{width:"80px",margin:"0 auto"},children:Object(x.jsx)("i",{class:"fas fa-envelope-open-text fa-5x"})})}),Object(x.jsxs)("div",{class:"col-lg-10",children:[Object(x.jsx)(l.b,{to:"/the-walks",className:"nav-link",children:Object(x.jsx)("h3",{children:"Suggestion"})}),Object(x.jsx)("p",{class:"ml-3",children:"Above two post are dummies, created for informational purpose."}),Object(x.jsxs)("p",{class:"ml-3",children:[Object(x.jsx)("b",{children:"Discussions"}),Object(x.jsx)("span",{class:"px-2",children:"10"}),Object(x.jsx)("b",{children:"Messages"}),Object(x.jsx)("span",{class:"px-2",children:"10"})]})]})]})}),Object(x.jsx)("div",{class:"col-lg-4 my-2",style:{borderLeft:"2px solid #9f6934"},children:Object(x.jsx)("div",{class:"row my-auto",children:Object(x.jsx)("div",{class:"col-lg-12  ml-3 mt-4",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Latest by:"}),Object(x.jsx)("span",{class:"px-2",children:O}),Object(x.jsx)("b",{}),Object(x.jsx)("span",{class:"px-2",children:v})]})})})})]})})]})]})})},m=function(){var e=Object(c.useState)({name:"",email:localStorage.email,password:"",rememberMe:!0}),t=Object(p.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(p.a)(n,2),o=r[0],h=r[1],O=Object(c.useState)({type:"",message:""}),m=Object(p.a)(O,2),f=m[0],g=m[1],v=Object(c.useState)(""),y=Object(p.a)(v,2),w=(y[0],y[1]),k=Object(c.useState)(""),S=Object(p.a)(k,2),C=(S[0],S[1]),P=Object(c.useRef)(),N=Object(c.useRef)(),A=function(e){var t=e.target,c=t.id,n=t.value;a(Object(u.a)(Object(u.a)({},s),{},Object(b.a)({},c,n)))},D=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a({name:"",email:localStorage.email,password:"",rememberMe:!0}),""!==s.email){e.next=6;break}return P.current.focus(),g({type:"danger",message:"Please provide your Email!"}),e.abrupt("return");case 6:if(!(""===s.password||s.password.length<8)){e.next=10;break}return N.current.focus(),g({type:"danger",message:"Please provide your password!"}),e.abrupt("return");case 10:return e.next=12,fetch("/api/user/login",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()}));case 12:if(c=e.sent,w(c.img),C(c.name),localStorage.setItem("email",c.email),localStorage.setItem("id",c.id),localStorage.setItem("name",c.name),localStorage.setItem("points",c.points),localStorage.setItem("type",c.type),c.message){e.next=23;break}return g({type:"danger",message:c.error}),e.abrupt("return");case 23:g({type:"success",message:"Loading, please wait..."}),localStorage.email=c.rememberMe?c.email:"",setTimeout((function(){h(!0)}),1e3);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{style:{color:"black"},children:[o?Object(x.jsx)(i.a,{to:"/"}):"",Object(x.jsx)("div",{className:f.type?"alert alert-".concat(f.type):"d-hide",role:"alert",children:f.message}),Object(x.jsx)("section",{class:"text-center",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsx)("p",{class:"lead text-muted",children:"Welcome back!"})]})}),Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("div",{class:"card",children:Object(x.jsx)("div",{class:"card-body",children:Object(x.jsxs)("form",{role:"form",children:[Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"userEmail",children:"Email Address"}),Object(x.jsx)("input",{value:s.email,onChange:A,ref:P,id:"email",type:"email",class:"form-control"})]}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"userPassword",children:"Password"}),Object(x.jsx)("input",{value:s.password,onChange:A,ref:N,id:"password",type:"password",class:"form-control"})]}),Object(x.jsx)("button",{onClick:D,type:"button",class:"btn btn-primary submit",children:"Login"}),"\xa0",Object(x.jsx)("input",{type:"checkbox",checked:s.rememberMe,onChange:function(){a(Object(u.a)(Object(u.a)({},s),{},{rememberMe:!s.rememberMe}))}}),Object(x.jsx)("label",{class:"text-secondary",for:"rememberMe",children:"Remember Me"})," \xa0",Object(x.jsx)(l.b,{to:"/registration",children:"Need to Register?"})]})})})})]})})},f=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),s=t[0],a=t[1];Object(c.useEffect)((function(){n()}),[]);var n=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.id="",localStorage.type="","april@test.com"==localStorage.email&&(localStorage.email=""),localStorage.points="",setTimeout((function(){a(!0)}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[s?Object(x.jsx)(i.a,{to:"/login"}):"",Object(x.jsx)("section",{class:"jumbotron text-center",children:Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("p",{class:"lead text-muted",children:"Please wait, logging out..."})})})]})};var g=function(){return Object(x.jsx)("div",{})};var v=function(){return Object(x.jsx)("div",{})},y=function(){Object(i.f)();var e=Object(c.useState)(!1),t=Object(p.a)(e,2),s=t[0],a=t[1],n=s?"collapse navbar-collapse show":"collapse navbar-collapse",r=localStorage.id,o=(localStorage.name,localStorage.email);return Object(x.jsx)("div",{children:Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(x.jsxs)(l.b,{to:"/",className:"navbar-brand",href:"#",children:["Rahul ",Object(x.jsx)("i",{class:"fas fa-book-reader"})," Abhishek"]}),Object(x.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return a(!s)},children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:n,id:"navbarNav",children:Object(x.jsxs)("ul",{className:"navbar-nav",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/",className:"nav-link",children:"Home"})}),localStorage.id?"":Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/registration",className:"nav-link",href:"#",children:"Register"})}),"april@test.com"==o?Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/admin",className:"nav-link",href:"#",children:"Admin"})}):"",r?Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/user/".concat(r),className:"nav-link",href:"#",children:"Dashboard"})}):Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/login",className:"nav-link",href:"#",children:"Login"})}),r?Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/logout",className:"nav-link",href:"#",children:"Logout"})}):""]})})]})})},w=function(){var e,t=Object(c.useState)(""),s=Object(p.a)(t,2),a=(s[0],s[1],Object(c.useState)("")),n=Object(p.a)(a,2),r=(n[0],n[1],Object(c.useState)("")),l=Object(p.a)(r,2),o=(l[0],l[1],Object(c.useState)([])),d=Object(p.a)(o,2);d[0],d[1],localStorage.id;return Object(c.useEffect)((function(){e()}),[]),""==localStorage.id?Object(x.jsx)(i.a,{to:"/login"}):""},k=s(13),S=function(e){var t=Object(c.useState)({title:"",message:""}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)({type:"",message:""}),l=Object(p.a)(r,2),i=l[0],o=l[1],h=function(e){e.preventDefault();var t=e.target.id,s=e.target.value,c=Object(u.a)(Object(u.a)({},a),{},Object(b.a)({},t,s));n(c)},O=function(){var t=Object(j.a)(d.a.mark((function t(s){var c,n,r,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),e.submitThread(s),c=a.title,n=c.trim().replace(/\s/g,"-").replace(/\'/g,""),""==a.message){t.next=13;break}return r={id:localStorage.id,data:a,slug:n,name:localStorage.name},t.next=8,fetch("/api/newthread",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()}));case 8:(l=t.sent).message?(o({type:"success",message:l.message}),setTimeout((function(){o({})}),1e3)):(o({type:"danger",message:l.message}),setTimeout((function(){o({})}),1e3)),e.loadPage(),t.next=14;break;case 13:alert("message is empty ");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{class:"col-lg-12",children:Object(x.jsxs)("div",{class:"row justify-content-center",children:[Object(x.jsx)("div",{class:i.type?"alert alert-".concat(i.type):"d-hide",role:"alert",children:i.message}),Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{type:"textarea",name:"",id:"title",value:a.title,onChange:h,placeholder:"Title",cols:"100",rows:"1"}),Object(x.jsx)("br",{}),Object(x.jsx)("textarea",{type:"textarea",name:"",id:"message",value:a.message,onChange:h,placeholder:"Your Message",cols:"100",rows:"5"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:O,children:"Add"}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:function(t){e.submitThread(t)},children:"Cancel"})]})]})})},C=function(){Object(i.f)();var e=Object(c.useState)(!1),t=Object(p.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),r=Object(p.a)(n,2),o=r[0],b=r[1],u=Object(c.useState)({type:"",message:""}),h=Object(p.a)(u,2),O=h[0],m=h[1],f=function(e){m({type:"danger",message:e}),setTimeout((function(){m({})}),2e3)},g=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/walkdata").then((function(e){return e.json()}));case 2:(t=e.sent).forEach((function(e){e.createdAt=new Date(e.createdAt).toString().substring(4,15),e.updatedAt=new Date(e.updatedAt).toString().substring(4,15)})),b(Object(k.a)(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=localStorage.id,"admin"!=localStorage.type){e.next=6;break}a(!0),e.next=14;break;case 6:if(localStorage.id){e.next=10;break}f("Dear guest, feel free to visit, to participate please register"),e.next=14;break;case 10:return e.next=12,fetch("/api/points/".concat(s)).then((function(e){return e.json()}));case 12:(c=e.sent)>=5?a(!0):c<5&&f("Not Enough Points to Participate in the forum. Check your dashboard.");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){g()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{textAlign:"center"},class:O.type?"alert alert-".concat(O.type):"d-hide",role:"alert",children:O.message}),Object(x.jsx)("div",{class:"container-fluid",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-12",style:{height:"50px",backgroundColor:"#9f6934",padding:"0",margin:"0"},children:Object(x.jsx)("h2",{style:{paddingTop:"10px",paddingLeft:"15px",color:"white"},children:"Forum"})}),Object(x.jsxs)("div",{class:"col-lg-12 mx-auto",children:[Object(x.jsx)("h2",{class:"my-4",children:"Demo by Rahul Abhishek"}),Object(x.jsx)("p",{children:"This is the dummy page where you can see the discussions anytime.. "})]}),Object(x.jsx)("div",{class:"col-lg-10 mx-auto",children:Object(x.jsxs)("div",{class:"row mx-auto justify-content-end",children:[Object(x.jsxs)("button",{style:{background:"#90ee90",border:"3px solid #9f6934",padding:"10px 15px",boxShadow:"3px 3px #9E9E9E"},onClick:v,children:[" ",Object(x.jsx)("i",{class:"fas fa-pen-nib"})," New Post"]}),Object(x.jsx)("br",{}),s?Object(x.jsx)(S,{submitThread:function(e){e.preventDefault(),a(!1)},loadPage:g}):""]})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{class:"row",children:Object(x.jsx)("div",{class:"col-lg-12 mx-auto justify-content-end",style:{border:"1px solid black"}})})}),Object(x.jsx)("div",{class:"col-lg-10 mx-auto mt-4",children:Object(x.jsx)("div",{children:Object(x.jsxs)("table",{class:"table table-sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{style:{height:"50px",border:"3px solid #9f6934",backgroundColor:"#9f6934",padding:"0",margin:"0",color:"white"},children:[Object(x.jsx)("th",{style:{width:"10%"}}),Object(x.jsx)("th",{style:{width:"30%"},children:"Title"}),Object(x.jsx)("th",{class:"text-center",style:{width:"20%"},children:"Replies"}),Object(x.jsx)("th",{class:"text-center",style:{width:"20%"},children:"Views"}),Object(x.jsx)("th",{class:"text-center",style:{width:"20%"},children:"Last Activity"})]})}),0!==o.length?o.map((function(e){return Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{style:{height:"80px",border:"3px solid #9f6934"},children:[Object(x.jsx)("td",{style:{padding:"20px 0 0 20px"},children:Object(x.jsx)("i",{class:"fas fa-envelope-open-text fa-2x"})}),Object(x.jsxs)("td",{style:{padding:"10px 0 0 0"},children:[Object(x.jsxs)("div",{style:{fontSize:"25px"},children:[Object(x.jsxs)(l.b,{to:{pathname:"/the-walks/".concat(e.slug,"/").concat(e._id),info:{id:e._id}},children:[Object(x.jsx)("b",{children:e.title})," "]}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{class:"my-2",children:[e.user.name,Object(x.jsx)("br",{}),e.createdAt]})]},e._id),Object(x.jsx)("td",{class:"text-center",style:{padding:"20px 0 0 0"},children:e.userReply.length}),Object(x.jsx)("td",{class:"text-center",style:{padding:"20px 0 0 0"},children:"10"}),Object(x.jsxs)("td",{class:"text-center",style:{padding:"20px 0 0 0"},children:[e.updatedAt,Object(x.jsx)("br",{}),function(){return e.userReply.pop(),e.userReply[0].name}]})]})})})):""]})})})]})})]})};var P=function(){return Object(x.jsx)("div",{})};var N=function(){return Object(x.jsx)("div",{})},A=function(e){var t=Object(c.useState)({reply:""}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=function(){var t=Object(j.a)(d.a.mark((function t(s){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),e.submitForm(s),localStorage.id,""==a.reply){t.next=12;break}return c={name:localStorage.name,postId:e.walkPost._id,userId:localStorage.id,post:a},t.next=7,fetch("/api/reply",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()}));case 7:t.sent.message?e.alertSuccess("Thank You! Your reply posted sucessfully."):e.alertFailure("Try again! Failed to post the message"),e.loadPage(),t.next=13;break;case 12:e.alertFailure("Reply is empty");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{class:"mt-2",children:[Object(x.jsx)("textarea",{type:"textarea",name:"",id:"message",value:a.reply,onChange:function(e){e.preventDefault();var t={reply:e.target.value};n(t)},placeholder:"Your Message",cols:"100",rows:"5"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",onClick:r,children:"Submit"}),Object(x.jsx)("button",{type:"submit",onClick:function(t){e.submitForm(t)},children:"Cancel"})]})})},D=function(e){var t=Object(c.useState)({comment:""}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=e.reply._id,l=e.reply.postId,i=function(){var e=Object(j.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s=t.target.value,n({comment:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var t=Object(j.a)(d.a.mark((function t(s){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),e.submitReply(s,e.idx),""==a.comment){t.next=11;break}return c={postId:l,userId:localStorage.id,name:localStorage.name,replyId:r,comment:a.comment},t.next=6,fetch("/api/comment/",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()}));case 6:t.sent.message?e.alertSuccess("Thank You! Your comment posted sucessfully."):e.alertFailure("Try again! Failed to post the message"),e.loadPage(),t.next=12;break;case 11:e.alertFailure("Try again! The comment form is empty");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{class:"col-lg-12 mt-4",children:Object(x.jsx)("div",{class:"row justify-content-end",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{type:"text",name:"",id:"message",value:a.comment,onChange:i,placeholder:"Your Message",cols:"100",rows:"5"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:o,children:"Add"}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:function(t){e.submitReply(t)},children:"Cancel"})]})})})},T=function(e){return Object(x.jsx)("div",{children:0!==e.comment.length?e.comment.map((function(e){return Object(x.jsx)("div",{class:"row justify-content-end",children:Object(x.jsxs)("div",{class:"col-lg-12",style:{border:"2px solid #9f6934"},children:[Object(x.jsxs)("div",{class:"col-lg-12 my-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)("b",{children:e.commenterName})},e._id),Object(x.jsx)("div",{})]}),Object(x.jsx)("div",{class:"col-lg-12 mb-2",children:e.postcomment},e._id)]},e._id)})})):""})},R=function(e){var t=Object(c.useState)({message:e.reply.message}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=function(){var t=Object(j.a)(d.a.mark((function t(s){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),c={postId:e.reply.postId,userId:e.reply.postId,replyId:e.reply._id,edited:a.message},t.next=4,fetch("/api/editReply",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()}));case 4:t.sent,e.submitReply(s),e.loadPage();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{class:"col-lg-12 ml-2 mt-4",children:Object(x.jsx)("div",{class:"row",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{type:"text",name:"",id:"message",value:a.message,onChange:function(e){e.preventDefault();var t=e.target.value;n({message:t})},placeholder:"Your Message",cols:"100",rows:"5"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:r,children:"submit"}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:function(t){e.submitReply(t)},children:"Cancel"})]})})})},I=function(e){var t=Object(c.useState)({message:e.walkPost.message}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=function(){var t=Object(j.a)(d.a.mark((function t(s){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),c={postId:e.walkPost._id,userId:e.walkPost.userId,edited:a.message},t.next=4,fetch("/api/editPost",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()}));case 4:t.sent,e.submitForm(s),e.loadPage();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsx)("div",{class:"col-lg-12 ml-2",children:Object(x.jsx)("div",{class:"row justify-content-center",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{type:"textarea",name:"",id:"message",value:a.message,onChange:function(e){e.preventDefault();var t=e.target.value;n({message:t})},placeholder:"Your Message",cols:"100",rows:"5"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:r,children:"Submit"}),Object(x.jsx)("button",{class:"btn myBtnPink",type:"submit",onClick:function(t){e.submitForm(t),t.preventDefault()},children:"Cancel"})]})})})})},E=function(e){var t=Object(c.useState)({}),s=Object(p.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(!1),l=Object(p.a)(r,2),o=l[0],b=l[1],u=Object(c.useState)(!1),h=Object(p.a)(u,2),O=h[0],m=h[1],f=Object(c.useState)(!1),g=Object(p.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(!1),k=Object(p.a)(w,2),S=k[0],C=k[1],P=Object(c.useState)([]),N=Object(p.a)(P,2),E=N[0],F=N[1],M=Object(c.useState)(),B=Object(p.a)(M,2),L=B[0],_=B[1],J=Object(c.useState)(),Y=Object(p.a)(J,2),W=(Y[0],Y[1]),z=Object(c.useState)(""),H=Object(p.a)(z,2),q=H[0],$=H[1],U=Object(c.useState)({type:"",message:""}),V=Object(p.a)(U,2),G=V[0],K=V[1],Q={mainPost:{boxShadow:"5px 3px #9E9E9E",border:"1px solid #9f6934",background:"#90ee90"},mainBtn:{display:"block",backgroundColor:"transparent",border:"none",color:"#9f6934",fontWeight:"bold"},btn:{backgroundColor:"transparent",border:"none",display:"inline",color:"#9f6934",fontWeight:"bold"}},X=Object(i.g)(),Z=(Object(i.g)().name,Object(i.g)().postId),ee=Object(i.f)();console.log("location is",ee),console.log("params is",X);var te=function(){var e=Object(j.a)(d.a.mark((function e(){var t,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/walkpost/".concat(Z)).then((function(e){return e.json()}));case 2:return t=e.sent,n(t),$(t.user.name),e.next=7,fetch("/api/replydata/".concat(Z)).then((function(e){return e.json()}));case 7:(s=e.sent).forEach((function(e){e.createdAt=new Date(e.createdAt).toString().substring(4,15),e.updatedAt=new Date(e.updatedAt).toString().substring(4,15)})),F(s),c=s.length,_(c),W(t.likes);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){e.preventDefault(),b(!1),C(!1)},ce=function(e){K({type:"success",message:e}),setTimeout((function(){K({})}),1e3)},ae=function(e){K({type:"danger",message:e}),setTimeout((function(){K({})}),1e3)},ne=function(e,t){m({id:t,state:!1}),y({id:t,state:!1}),e.preventDefault()};Object(c.useEffect)((function(){te()}),[]);var re=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/likeInc/".concat(Z),{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify()}).then((function(e){return e.json()}));case 3:e.sent,te();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(j.a)(d.a.mark((function e(t,s,c){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.id,localStorage.id!=a&&"admin"!==localStorage.type){e.next=7;break}return e.next=5,fetch("/api/deletereply/".concat(c),{method:"delete"}).then((function(e){return e.json()}));case 5:n=e.sent,console.log(n);case 7:te();case 8:case"end":return e.stop()}}),e)})));return function(t,s,c){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(d.a.mark((function e(t,s,c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/deletepost/".concat(s,"/").concat(c),{method:"delete"}).then((function(e){return e.json()}));case 3:a=e.sent,console.log(a),window.location.href="/the-walks";case 6:case"end":return e.stop()}}),e)})));return function(t,s,c){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{textAlign:"center"},class:G.type?"alert alert-".concat(G.type):"d-hide",role:"alert",children:G.message}),Object(x.jsxs)("div",{class:"container-fluid",children:[Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col",style:{height:"50px",backgroundColor:"#9f6934",padding:"0",margin:"0"},children:Object(x.jsx)("h2",{style:{paddingTop:"10px",paddingLeft:"15px",color:"white"},children:"Forum"})}),Object(x.jsx)("div",{class:"col-lg-12 mx-auto",children:Object(x.jsxs)("div",{class:"row justify-content-center",children:[Object(x.jsx)("div",{class:"col-10",children:Object(x.jsx)("h2",{class:"my-4",children:a.title})}),Object(x.jsx)("div",{class:"col-10",style:Q.mainPost,children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-6",children:Object(x.jsx)("p",{style:{padding:"0px",fontSize:"20px"},children:Object(x.jsx)("b",{children:q})})}),Object(x.jsx)("div",{class:"col-lg-3",style:{fontSize:"20px"},children:Object(x.jsx)("small",{children:Object(x.jsx)("b",{children:a.createdAt})})}),Object(x.jsx)("div",{class:"col-lg-3",style:{fontSize:"20px"},children:Object(x.jsx)("small",{children:Object(x.jsxs)("b",{children:["Replies:",L]})})}),S?Object(x.jsx)(I,{submitForm:se,walkPost:a,loadPage:te}):Object(x.jsx)("div",{class:"col-12 mx-auto",children:Object(x.jsx)("p",{class:"my-4",style:{fontSize:"20px"},children:a.message})}),Object(x.jsx)("div",{class:"col-12 mt-4"})]})}),Object(x.jsx)("div",{class:"col-lg-10 col-md-10 mt-2",children:Object(x.jsxs)("div",{class:"row justify-content-start",children:[Object(x.jsx)("div",{class:"col-lg-1 col-md-1",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{style:Q.btn,type:"submit",onClick:function(e){re(e)},children:Object(x.jsx)("i",{class:"fas fa-thumbs-up"})}),a.likes]})}),Object(x.jsxs)("div",{class:"col-lg-1 col-md-1",children:[Object(x.jsx)("button",{onClick:function(){localStorage.id?b(!0):b(!1)},style:Q.mainBtn,children:"Reply"}),o?Object(x.jsx)(A,{submitForm:se,walkPost:a,loadPage:te,alertSuccess:ce,alertFailure:ae}):""]}),Object(x.jsx)("div",{class:"col-lg-1 col-md-1",children:localStorage.id===a.userId||"moderator"===localStorage.type||"admin"===localStorage.type?Object(x.jsx)("button",{onClick:function(e){e.preventDefault(),C(!0)},style:Q.mainBtn,children:"Edit"}):""}),Object(x.jsx)("div",{class:"col-lg-1 col-md-1",children:localStorage.id===a.userId||"admin"===localStorage.type?Object(x.jsx)("button",{onClick:function(e){return ie(e,a._id,a.userId)},style:Q.mainBtn,children:"Delete"}):""})]})})]})})]}),Object(x.jsx)("div",{class:"row mt-4",children:Object(x.jsx)("div",{class:"col-lg-12",children:0!==E.length?E.map((function(e,t){return Object(x.jsxs)("div",{class:"row justify-content-center my-4",children:[Object(x.jsx)("div",{class:"col-lg-10 py-2",style:{border:"2px solid #9f6934"},children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-lg-2",children:Object(x.jsx)("b",{children:e.createdAt})}),Object(x.jsx)("div",{class:"col-lg-2",children:Object(x.jsx)("b",{children:e.user.name})})]})}),Object(x.jsxs)("div",{class:"col-lg-10",children:[Object(x.jsxs)("div",{class:"row",style:{border:"1px solid #9f6934",background:"#D2B48C"},children:[Object(x.jsx)("div",{class:"col-lg-10",children:Object(x.jsx)("div",{class:"row",children:Object(x.jsx)("div",{class:"col-lg-4"})})}),v.id==t&&v.state?Object(x.jsx)(R,{submitReply:ne,idx:t,reply:e,loadPage:te}):Object(x.jsx)("div",{class:"col-lg-12 my-4",children:e.message}),Object(x.jsx)("div",{class:"col-lg-12",children:Object(x.jsxs)("div",{class:"row justify-content-end",children:[Object(x.jsx)("button",{class:"pr-4",type:"submit",id:t,onClick:function(e){return function(e,t){e.preventDefault(),localStorage.id?m({id:t,state:!0}):m({id:"",state:!1})}(e,t)},style:Q.btn,children:"Reply"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"pr-4",type:"submit",id:e.userId,onClick:function(e){return function(e,t){var s=e.target.id;localStorage.id==s||"moderator"===localStorage.type||"admin"===localStorage.type?y({id:t,state:!0}):y({id:"",state:!1})}(e,t)},style:Q.btn,children:"Edit"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{class:"pr-4",type:"submit",id:e.userId,onClick:function(s){return le(s,t,e._id)},style:Q.btn,children:"Delete"})," ",Object(x.jsx)("br",{}),O.id==t&&O.state?Object(x.jsx)(D,{submitReply:ne,idx:t,alertSuccess:ce,alertFailure:ae,reply:e,loadPage:te}):""]})})]}),Object(x.jsx)(T,{comment:e.comment})]})]})})):""})})]})]})};var F=function(){return""==localStorage.id?Object(x.jsx)(i.a,{to:"/login"}):""};var M=function(){return localStorage.id,Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(y,{}),Object(x.jsxs)("div",{className:"container-fluid",style:{minHeight:"80vh",padding:"0"},children:[Object(x.jsx)(i.b,{exact:!0,path:["/","/homepage"],component:O}),Object(x.jsx)(i.b,{exact:!0,path:"/Search",component:g}),Object(x.jsx)(i.b,{exact:!0,path:"/registration",component:h}),Object(x.jsx)(i.b,{exact:!0,path:"/login",component:m}),Object(x.jsx)(i.b,{exact:!0,path:"/logout",component:f}),Object(x.jsx)(i.b,{exact:!0,path:"user/:id",component:w}),Object(x.jsx)(i.b,{exact:!0,path:"/the-walks",component:C}),Object(x.jsx)(i.b,{exact:!0,path:"/yapping",component:P}),Object(x.jsx)(i.b,{exact:!0,path:"/treats",component:N}),Object(x.jsx)(i.b,{exact:!0,path:"/the-walks/:name/:postId",component:E}),Object(x.jsx)(i.b,{exact:!0,path:"/admin",component:F}),Object(x.jsx)(i.b,{exact:!0,path:"/user/:id",component:w})]}),Object(x.jsx)(v,{})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.1f088ed8.chunk.js.map